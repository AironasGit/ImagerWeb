{% extends 'base.html' %}

{% block 'title' %}Login{% endblock %}

{% block 'header' %}Login{% endblock %}

{% block 'content' %}

  {% if form.errors %}
    <p>Login error, try again!</p>
  {% endif %}
  
  {% if next %}
    {% if user.is_authenticated %}
      <p>You dont have access to this information. You have to login.</p>
    {% endif %}
  {% endif %}
  <div class="container login">
    <div class="container mt-4">
      <div class="row">
          <div class="col-sm">
              {% if messages %}
              {% for message in messages %}
              <div class="alert alert-{% if message.tags == 'error' %}danger{% elif message.tags == 'info' %}success{% endif %}"
                   role="alert">
                  {{ message }}
              </div>
              {% endfor %}
              {% endif %}
              {% block "content" %}{% endblock %}
          </div>
      </div>
    </div>
    <h3>Login</h3><br/>
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="username">Username</label>
            <input name="username" type="text" class="form-control" id="username" aria-describedby="usernameHelp">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input name="password" type="password" class="form-control" id="password" aria-describedby="pwdHelp">
        </div>
        <button type="submit" class="btn btn-primary login-button">Login</button>
    </form>
  <p><a href="{% url 'register' %}">Register</a></p>
  <p><a href="{% url 'password_reset' %}">Forgot password?</a></p>
</div>
  
{% endblock %}